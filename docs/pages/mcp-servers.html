<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../assets/dos-terminal.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP Servers - OSVM CLI</title>
    <script src="../assets/dos-interactive.js" defer></script>
</head>
<body>
    <div class="main-wrapper">
        <h1>Model Context Protocol (MCP) Servers</h1>

        <h2>â–“â–“ What is MCP?</h2>
        <p>MCP (Model Context Protocol) provides enhanced blockchain data access and external integrations.
           OSVM uses MCP servers to extend AI agent capabilities with specialized tools for Solana data.</p>

        <h2>â–“â–“ MCP with Ephemeral MicroVMs</h2>
        <p class="warning">SECURITY: MCP tools can execute in ephemeral microVMs for isolation!</p>

        <div class="info">
            <strong>[ISOLATION MODE]</strong> Each tool call:
            <ul>
                <li>Launches fresh microVM (optional)</li>
                <li>Executes in complete isolation</li>
                <li>Destroys VM after completion</li>
                <li>Zero state persistence between calls</li>
            </ul>
        </div>

        <h2>â–“â–“ Quick Setup</h2>
        <div class="command-item">
            <code>osvm mcp setup</code>
            <p>Quick setup for Solana MCP</p>
        </div>

        <h2>â–“â–“ Server Management</h2>
        <div class="command-item">
            <code>osvm mcp list</code>
            <p>List all configured MCP servers</p>
        </div>

        <div class="command-item">
            <code>osvm mcp add solana https://mcp.solana.com</code>
            <p>Add HTTP-based MCP server</p>
        </div>

        <div class="command-item">
            <code>osvm mcp add birdeye https://mcp.solana.com</code>
            <p>Add another MCP server for analytics</p>
        </div>

        <div class="command-item">
            <code>osvm mcp test solana</code>
            <p>Test MCP server connection</p>
        </div>

        <div class="command-item">
            <code>osvm mcp remove solana</code>
            <p>Remove MCP server</p>
        </div>

        <h2>â–“â–“ Tool Discovery & Execution</h2>
        <div class="command-item">
            <code>osvm mcp tools solana</code>
            <p>List available tools from MCP server</p>
        </div>

        <div class="command-item">
            <code>osvm mcp call solana getTransaction --signature "ABC..."</code>
            <p>Execute MCP tool directly</p>
        </div>

        <h2>â–“â–“ Available MCP Tools</h2>
        <p>Common MCP tools for blockchain investigation:</p>
        <ul>
            <li><strong>getTransaction:</strong> Fetch transaction details</li>
            <li><strong>getSignatures:</strong> Get transaction signatures for address</li>
            <li><strong>getAccountInfo:</strong> Retrieve account information</li>
            <li><strong>getTokenAccounts:</strong> List token accounts</li>
            <li><strong>getTokenMetadata:</strong> Get token metadata</li>
            <li><strong>getProgramAccounts:</strong> Query program accounts</li>
            <li><strong>getSlot:</strong> Get current slot number</li>
            <li><strong>getBlockTime:</strong> Get block timestamp</li>
        </ul>

        <h2>â–“â–“ MicroVM Isolation</h2>
        <div class="command-item">
            <code>osvm mcp microvm launch my-server</code>
            <p>Launch server in dedicated microVM</p>
        </div>

        <div class="command-item">
            <code>osvm mcp microvm status</code>
            <p>Check microVM status</p>
        </div>

        <h2>â–“â–“ Architecture</h2>
        <pre>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User Query    â”‚  Natural language blockchain query
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI Agent      â”‚  Interprets intent, generates OVSM
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OVSM Runtime   â”‚  Executes LISP plan
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MCP Service    â”‚  Routes to appropriate MCP servers
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MCP Servers (Optional VMs) â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚ â”‚Helius  â”‚ â”‚Birdeye â”‚ ...   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Solana RPC     â”‚  Blockchain data
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>

        <h2>â–“â–“ Configuration File</h2>
        <p>MCP servers are configured in <code>~/.osvm/mcp_config.json</code>:</p>
        <pre><code>{
  "servers": [
    {
      "name": "solana",
      "url": "https://mcp.solana.com",
      "transport": "http",
      "auth": {
        "type": "bearer",
        "token": "YOUR_TOKEN"
      }
    },
    {
      "name": "solana-analytics",
      "url": "https://mcp.solana.com",
      "transport": "http"
    }
  ]
}</code></pre>

        <h2>â–“â–“ Transport Types</h2>
        <ul>
            <li><strong>stdio</strong> - Local process communication (node server.js)</li>
            <li><strong>http</strong> - REST API based (most common)</li>
            <li><strong>websocket</strong> - Real-time bidirectional connection</li>
        </ul>

        <h2>â–“â–“ Authentication</h2>
        <ul>
            <li><strong>Bearer tokens:</strong> Most API providers</li>
            <li><strong>Basic auth:</strong> Username/password</li>
            <li><strong>API keys:</strong> Custom header or query param</li>
            <li><strong>Custom headers:</strong> Flexible authentication</li>
        </ul>

        <h2>â–“â–“ Integration with AI Chat</h2>
        <p>MCP servers are automatically available when using AI chat:</p>
        <pre><code>$ osvm chat
> "Check balance for wallet ABC...XYZ"
ğŸ¤– Using solana-mcp.getBalance tool...
âœ“ Balance: 150.25 SOL

> "Show DEX trades"
ğŸ¤– Using solana-mcp.getTradeHistory tool...
âœ“ Found 23 trades in last 24h</code></pre>
    </div>
</body>
</html>
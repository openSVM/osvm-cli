<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../assets/dos-terminal.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Reference - OSVM CLI</title>
    <script src="../assets/dos-interactive.js" defer></script>
</head>
<body>
    <div class="main-wrapper">
        <h1>API Reference</h1>

        <h2>▓▓ AI & Blockchain Commands (PRIMARY)</h2>

        <h3>▒▒ Natural Language Queries</h3>
        <pre><code>osvm "your blockchain query in natural language"

EXAMPLES:
  osvm "show me all transactions for wallet ABC...XYZ"
  osvm "analyze DEX trading volume on Raydium"
  osvm "find NFT holders with rare traits"</code></pre>

        <h3>▒▒ AI Planning Mode</h3>
        <pre><code>osvm plan "your query"
osvm -p "your query"
osvm -a "your query"

DESCRIPTION:
  Explicit planning mode with OVSM code generation
  Shows step-by-step execution plan</code></pre>

        <h3>▒▒ osvm chat</h3>
        <pre><code>osvm chat [OPTIONS]

OPTIONS:
  --advanced   Advanced multi-session interface
  --theme      Custom theme (cyberpunk, matrix, etc)
  --debug      Debug mode

DESCRIPTION:
  Interactive AI chat for continuous blockchain investigation</code></pre>

        <h2>▓▓ OVSM Language</h2>

        <h3>▒▒ osvm ovsm</h3>
        <pre><code>osvm ovsm SUBCOMMAND

SUBCOMMANDS:
  run         Run OVSM script file
  eval        Evaluate OVSM expression
  check       Syntax check without execution
  repl        Interactive REPL
  examples    Show example scripts

DESCRIPTION:
  OVSM LISP interpreter with 356/356 tests passing
  91+ built-in functions, 97.3% test coverage</code></pre>

        <h2>▓▓ Core Blockchain Commands</h2>

        <h3>▒▒ osvm balance</h3>
        <pre><code>osvm balance [ADDRESS] [OPTIONS]

OPTIONS:
  -C, --config PATH    Config file path
  -u, --url URL       RPC endpoint
  -v, --verbose       Verbose output
  --keypair PATH      Keypair path</code></pre>

        <h3>▒▒ osvm svm</h3>
        <pre><code>osvm svm SUBCOMMAND

SUBCOMMANDS:
  list        List all SVMs
  get NAME    Get SVM details
  dashboard   Interactive dashboard
  install     Deploy SVM to host</code></pre>

        <h3>▒▒ osvm nodes</h3>
        <pre><code>osvm nodes SUBCOMMAND

SUBCOMMANDS:
  list        List nodes
  status      Node status
  logs        View logs
  restart     Restart node
  stop        Stop node
  deploy      Deploy new node
  dashboard   Real-time monitoring</code></pre>

        <h2>▓▓ Advanced Features</h2>

        <h3>▒▒ osvm audit</h3>
        <pre><code>osvm audit [REPOSITORY] [OPTIONS]

OPTIONS:
  --output-dir DIR    Output directory
  --format FORMAT     json|html|markdown
  --no-commit         Don't commit results
  --gh-repo REPO      GitHub repository</code></pre>

        <h3>▒▒ osvm mcp</h3>
        <pre><code>osvm mcp SUBCOMMAND

SUBCOMMANDS:
  add NAME URL           Add MCP server
  list                   List servers
  enable NAME            Enable server
  disable NAME           Disable server
  test NAME              Test connectivity
  tools NAME             List available tools
  call NAME TOOL [ARGS]  Execute tool
  remove NAME            Remove server

EXAMPLES:
  osvm mcp add solana https://mcp.solana.com
  osvm mcp test solana
  osvm mcp tools solana
  osvm mcp call solana getBalance --address "ABC..."

<!-- Canonical MCP endpoint: https://mcp.solana.com -->
</code></pre>

        <h3>▒▒ osvm doctor</h3>
        <pre><code>osvm doctor [OPTIONS]

OPTIONS:
  --fix        Auto-fix common issues
  --verbose    Detailed diagnostics

DESCRIPTION:
  System diagnostics and self-repair
  Checks dependencies, configuration, connectivity</code></pre>

        <h2>▓▓ Environment Variables</h2>
        <pre><code>OPENAI_URL          AI endpoint URL (REQUIRED for blockchain queries)
                    • OpenAI: https://api.openai.com/v1/chat/completions
                    • Ollama: http://localhost:11434/v1/chat/completions
OPENAI_KEY          AI API key (REQUIRED for blockchain queries)
                    • OpenAI: sk-...
                    • Ollama: ollama-key (any value)
SOLANA_CONFIG       Solana config path (optional for basic commands)
NO_COLOR            Disable colors (optional)
RUST_LOG            Log level: debug, info, warn, error (optional)
RUST_BACKTRACE      Show backtrace: 0, 1, full (optional)

<!-- AI features require OPENAI_URL and OPENAI_KEY -->
<!-- Natural language queries won't work without these -->
</code></pre>

        <h2>▓▓ Exit Codes</h2>
        <table>
            <tr><th>Code</th><th>Meaning</th></tr>
            <tr><td>0</td><td>Success</td></tr>
            <tr><td>1</td><td>General error</td></tr>
            <tr><td>2</td><td>Authentication error</td></tr>
            <tr><td>3</td><td>Network error</td></tr>
            <tr><td>4</td><td>Configuration error</td></tr>
            <tr><td>5</td><td>Validation error</td></tr>
        </table>

        <h2>▓▓ Configuration Priority</h2>
        <ol>
            <li>Command-line arguments</li>
            <li>Environment variables</li>
            <li>Config file</li>
            <li>Default values</li>
        </ol>
    </div>
</body>
</html>